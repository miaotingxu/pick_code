# ğŸ‰ ç­¾åé…ç½®å®Œæˆ

> **å®Œæˆæ—¶é—´**: 2025-10-25  
> **åŒ…å**: `com.mtx.take.code`  
> **ç­¾åç±»å‹**: æ­£å¼è¯ä¹¦

---

## âœ… é…ç½®å®Œæˆæ¸…å•

### 1. ç­¾åæ–‡ä»¶ âœ…

```
signature/
â”œâ”€â”€ pickcode.p12  âœ… å¯†é’¥æ–‡ä»¶ (1,106 å­—èŠ‚)
â”œâ”€â”€ pickcode.cer  âœ… è¯ä¹¦æ–‡ä»¶ (2,910 å­—èŠ‚)
â””â”€â”€ pickcode.p7b  âœ… Profileæ–‡ä»¶ (4,002 å­—èŠ‚)
```

**æ‰€æœ‰æ–‡ä»¶å·²å°±ç»ªï¼**

---

### 2. ç­¾åé…ç½® âœ…

**build-profile.json5** å·²é…ç½®ï¼š

```json5
{
  "app": {
    "signingConfigs": [
      {
        "name": "default",
        "type": "HarmonyOS",
        "material": {
          "storeFile": "signature/pickcode.p12",
          "storePassword": "miao1234",
          "keyAlias": "pickcode_key",
          "keyPassword": "miao1234",
          "signAlg": "SHA256withRSA",
          "certpath": "signature/pickcode.cer",
          "profile": "signature/pickcode.p7b"
        }
      },
      {
        "name": "release",
        "type": "HarmonyOS",
        "material": {
          // ä¸ default ç›¸åŒ
        }
      }
    ]
  }
}
```

**é…ç½®å‚æ•°**ï¼š
- å¯†é’¥æ–‡ä»¶ï¼š`signature/pickcode.p12`
- è¯ä¹¦æ–‡ä»¶ï¼š`signature/pickcode.cer`
- Profileï¼š`signature/pickcode.p7b`
- å¯†ç ï¼š`miao1234`
- å¯†é’¥åˆ«åï¼š`pickcode_key`

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### æ­¥éª¤ 1: æ¸…ç†æ—§æ„å»º

**åœ¨ DevEco Studio ä¸­**ï¼š
```
Build â†’ Clean Project
```

**æˆ–ä½¿ç”¨å‘½ä»¤è¡Œ**ï¼ˆå¦‚æœé…ç½®äº† hvigorwï¼‰ï¼š
```powershell
hvigorw clean
```

---

### æ­¥éª¤ 2: é‡æ–°æ„å»ºé¡¹ç›®

**åœ¨ DevEco Studio ä¸­**ï¼š
```
Build â†’ Rebuild Project
```

è¿™å°†ä½¿ç”¨æ–°çš„ç­¾åé…ç½®é‡æ–°ç¼–è¯‘é¡¹ç›®ã€‚

---

### æ­¥éª¤ 3: ç”Ÿæˆç­¾åçš„ HAP åŒ…

#### æ–¹å¼ A: ç”Ÿæˆè°ƒè¯•ç‰ˆæœ¬ï¼ˆæ¨èå…ˆæµ‹è¯•ï¼‰

```
Build â†’ Build Hap(s)/App(s) â†’ Build Hap(s)
æˆ–æŒ‰ Ctrl + F9
```

**è¾“å‡ºä½ç½®**ï¼š
```
entry/build/default/outputs/default/entry-default-signed.hap
```

---

#### æ–¹å¼ B: ç”Ÿæˆå‘å¸ƒç‰ˆæœ¬

```
Build â†’ Generate Hap(s)/App(s) â†’ Generate Signed Hap(s)
é€‰æ‹© "release" é…ç½®
ç‚¹å‡» OK
```

**è¾“å‡ºä½ç½®**ï¼š
```
entry/build/default/outputs/default/entry-release-signed.hap
```

---

### æ­¥éª¤ 4: å®‰è£…å’Œæµ‹è¯•

#### å¸è½½æ—§ç‰ˆæœ¬

```powershell
hdc uninstall com.mtx.take.code
```

#### å®‰è£…æ–°ç­¾åçš„ç‰ˆæœ¬

```powershell
# å¦‚æœç”Ÿæˆçš„æ˜¯ debug ç‰ˆæœ¬
hdc install entry\build\default\outputs\default\entry-default-signed.hap

# å¦‚æœç”Ÿæˆçš„æ˜¯ release ç‰ˆæœ¬
hdc install entry\build\default\outputs\default\entry-release-signed.hap
```

#### å¯åŠ¨åº”ç”¨

```powershell
hdc shell aa start -a EntryAbility -b com.mtx.take.code
```

---

## ğŸ§ª éªŒè¯ç­¾å

### æ£€æŸ¥åº”ç”¨ä¿¡æ¯

```powershell
# æŸ¥çœ‹å·²å®‰è£…çš„åº”ç”¨
hdc shell bm dump -n com.mtx.take.code

# æŸ¥çœ‹åº”ç”¨è¯¦ç»†ä¿¡æ¯
hdc shell bm dump -a | findstr "com.mtx.take.code"
```

### éªŒè¯è¯ä¹¦æœ‰æ•ˆæœŸ

å¦‚æœå®‰è£…æˆåŠŸå¹¶èƒ½æ­£å¸¸è¿è¡Œï¼Œè¯´æ˜ç­¾åé…ç½®æ­£ç¡®ï¼

---

## ğŸ“‹ ç­¾åé…ç½®å‚æ•°

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| **Store File** | `signature/pickcode.p12` | å¯†é’¥åº“æ–‡ä»¶ |
| **Store Password** | `miao1234` | å¯†é’¥åº“å¯†ç  |
| **Key Alias** | `pickcode_key` | å¯†é’¥åˆ«å |
| **Key Password** | `miao1234` | å¯†é’¥å¯†ç  |
| **Cert Path** | `signature/pickcode.cer` | è¯ä¹¦æ–‡ä»¶ |
| **Profile** | `signature/pickcode.p7b` | Profileé…ç½®æ–‡ä»¶ |
| **Sign Algorithm** | `SHA256withRSA` | ç­¾åç®—æ³• |

---

## âš ï¸ é‡è¦æç¤º

### 1. æ–‡ä»¶å®‰å…¨

**ç­¾åæ–‡ä»¶å·²åœ¨ .gitignore ä¸­æ’é™¤**ï¼š
```gitignore
signature/*.p12  âœ… ä¸ä¼šæäº¤åˆ° Git
signature/*.cer  âœ… ä¸ä¼šæäº¤åˆ° Git
signature/*.p7b  âœ… ä¸ä¼šæäº¤åˆ° Git
*.p12           âœ… ä¸ä¼šæäº¤åˆ° Git
```

**è¯·å‹¿æ³„éœ²**ï¼š
- âŒ `pickcode.p12` - ç§é’¥æ–‡ä»¶
- âŒ `miao1234` - å¯†ç 
- âŒ ç­¾åé…ç½®ä¿¡æ¯

---

### 2. å¯†ç ç®¡ç†

**å½“å‰å¯†ç **: `miao1234`

**æ³¨æ„**ï¼š
- å¯†ç å·²å†™å…¥ `build-profile.json5`
- å¦‚æœé¡¹ç›®æ˜¯å¼€æºçš„ï¼Œå»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡
- æˆ–ä½¿ç”¨ DevEco Studio çš„å¯†ç ä¿æŠ¤åŠŸèƒ½

---

### 3. è¯ä¹¦æœ‰æ•ˆæœŸ

**å®šæœŸæ£€æŸ¥**ï¼š
- è¯ä¹¦æ–‡ä»¶ï¼ˆ.cerï¼‰çš„æœ‰æ•ˆæœŸ
- Profile æ–‡ä»¶ï¼ˆ.p7bï¼‰çš„æœ‰æ•ˆæœŸï¼ˆé€šå¸¸1å¹´ï¼‰
- è¿‡æœŸå‰éœ€è¦é‡æ–°ç”³è¯·

---

## ğŸ¯ å¿«é€Ÿæ„å»ºå‘½ä»¤

### ä½¿ç”¨ DevEco Studioï¼ˆæ¨èï¼‰

```
1. æ‰“å¼€é¡¹ç›®
2. Build â†’ Clean Project
3. Build â†’ Rebuild Project
4. Run â†’ Run 'entry' (Shift + F10)
```

**DevEco Studio ä¼šè‡ªåŠ¨**ï¼š
- âœ… ä½¿ç”¨é…ç½®çš„ç­¾å
- âœ… ç”Ÿæˆç­¾åçš„ HAP
- âœ… å®‰è£…åˆ°è®¾å¤‡
- âœ… å¯åŠ¨åº”ç”¨

---

### ä½¿ç”¨å‘½ä»¤è¡Œ

```powershell
# 1. æ¸…ç†
hvigorw clean

# 2. æ„å»ºï¼ˆDebugï¼‰
hvigorw assembleHap --mode module -p module=entry -p product=default

# 3. æ„å»ºï¼ˆReleaseï¼‰
hvigorw assembleHap --mode module -p module=entry -p product=default --release

# 4. å®‰è£…
hdc install entry\build\default\outputs\default\entry-default-signed.hap

# 5. å¯åŠ¨
hdc shell aa start -a EntryAbility -b com.mtx.take.code
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: "ç­¾åå¤±è´¥ - å¯†ç é”™è¯¯"

**è§£å†³æ–¹æ¡ˆ**ï¼š
```
1. ç¡®è®¤å¯†ç ï¼šmiao1234
2. æ£€æŸ¥ build-profile.json5 ä¸­çš„å¯†ç 
3. ç¡®ä¿ .p12 æ–‡ä»¶çš„å¯†ç æ­£ç¡®
```

---

### é—®é¢˜ 2: "Profile æ–‡ä»¶æ— æ•ˆ"

**å¯èƒ½åŸå› **ï¼š
- Profile æ–‡ä»¶è¿‡æœŸ
- Profile ä¸è¯ä¹¦ä¸åŒ¹é…
- åŒ…åä¸ä¸€è‡´

**è§£å†³æ–¹æ¡ˆ**ï¼š
```
1. æ£€æŸ¥ Profile æ–‡ä»¶æœ‰æ•ˆæœŸ
2. ç¡®è®¤åŒ…åï¼šcom.mtx.take.code
3. é‡æ–°ä» AppGallery Connect ä¸‹è½½ Profile
```

---

### é—®é¢˜ 3: "è¯ä¹¦ä¸åº”ç”¨åŒ…åä¸åŒ¹é…"

**è§£å†³æ–¹æ¡ˆ**ï¼š
```
1. æ£€æŸ¥ AppGallery Connect ä¸­çš„åº”ç”¨åŒ…å
2. æ£€æŸ¥ AppScope/app.json5 ä¸­çš„ bundleName
3. ç¡®ä¿å®Œå…¨ä¸€è‡´ï¼šcom.mtx.take.code
```

---

### é—®é¢˜ 4: "æ‰¾ä¸åˆ°ç­¾åæ–‡ä»¶"

**è§£å†³æ–¹æ¡ˆ**ï¼š
```powershell
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
Test-Path signature\pickcode.p12
Test-Path signature\pickcode.cer
Test-Path signature\pickcode.p7b

# éƒ½åº”è¯¥è¿”å› True
```

---

## ğŸ“Š æ„å»ºè¾“å‡ºå¯¹æ¯”

| æ„å»ºç±»å‹ | è¾“å‡ºæ–‡ä»¶å | ç­¾åçŠ¶æ€ | ç”¨é€” |
|---------|-----------|---------|------|
| **Debug** | `entry-default-signed.hap` | âœ… å·²ç­¾å | å¼€å‘æµ‹è¯• |
| **Release** | `entry-release-signed.hap` | âœ… å·²ç­¾å | æ­£å¼å‘å¸ƒ |

---

## âœ… é…ç½®éªŒè¯æ¸…å•

å®Œæˆä»¥ä¸‹æ£€æŸ¥ï¼Œç¡®ä¿é…ç½®æ­£ç¡®ï¼š

- [x] ç­¾åæ–‡ä»¶å·²å¤åˆ¶åˆ° signature ç›®å½•
- [x] pickcode.p12 å­˜åœ¨
- [x] pickcode.cer å­˜åœ¨
- [x] pickcode.p7b å­˜åœ¨
- [x] build-profile.json5 å·²é…ç½®ç­¾åä¿¡æ¯
- [x] å¯†ç æ­£ç¡®ï¼šmiao1234
- [ ] å·²æ¸…ç†å¹¶é‡æ–°æ„å»ºé¡¹ç›®
- [ ] èƒ½æˆåŠŸç”Ÿæˆç­¾åçš„ HAP åŒ…
- [ ] HAP åŒ…èƒ½æˆåŠŸå®‰è£…åˆ°è®¾å¤‡
- [ ] åº”ç”¨èƒ½æ­£å¸¸è¿è¡Œ

---

## ğŸ‰ æˆåŠŸæ ‡å¿—

å¦‚æœä»¥ä¸‹æ“ä½œéƒ½æˆåŠŸï¼Œè¯´æ˜ç­¾åé…ç½®å®Œå…¨æ­£ç¡®ï¼š

1. âœ… æ„å»ºé¡¹ç›®æ— é”™è¯¯
2. âœ… ç”Ÿæˆçš„ HAP æ–‡ä»¶åŒ…å« "signed" æ ‡è®°
3. âœ… HAP èƒ½å®‰è£…åˆ°è®¾å¤‡
4. âœ… åº”ç”¨èƒ½æ­£å¸¸å¯åŠ¨å’Œè¿è¡Œ
5. âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸ï¼ˆç›¸æœºã€çŸ­ä¿¡ç­‰æƒé™ï¼‰

---

## ğŸ“ åç»­æ“ä½œ

### å‘å¸ƒåˆ°åº”ç”¨å¸‚åœº

ç­¾åé…ç½®å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

1. **æµ‹è¯•åº”ç”¨**
   - å®Œæ•´åŠŸèƒ½æµ‹è¯•
   - å¤šè®¾å¤‡æµ‹è¯•
   - æ€§èƒ½æµ‹è¯•

2. **å‡†å¤‡å‘å¸ƒææ–™**
   - åº”ç”¨æˆªå›¾
   - åº”ç”¨æè¿°
   - éšç§æ”¿ç­–
   - ç‰ˆæœ¬è¯´æ˜

3. **æäº¤å®¡æ ¸**
   - ç™»å½• AppGallery Connect
   - ä¸Šä¼ ç­¾åçš„ HAP åŒ…
   - å¡«å†™åº”ç”¨ä¿¡æ¯
   - æäº¤å®¡æ ¸

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

- ğŸ“„ `æ­£å¼è¯ä¹¦é…ç½®æ­¥éª¤.md` - è¯¦ç»†é…ç½®è¯´æ˜
- ğŸ“„ `ç­¾åé…ç½®æ“ä½œæŒ‡å—.md` - ç­¾åé…ç½®æŒ‡å—
- ğŸ“„ `æ‰“åŒ…å®‰è£…è¯´æ˜.md` - æ‰“åŒ…å’Œå®‰è£…æµç¨‹
- ğŸ“„ `ä¿®æ”¹åŒ…åæŒ‡å—.md` - åŒ…åä¿®æ”¹è¯´æ˜

---

## ğŸ¯ å½“å‰é…ç½®æ€»ç»“

```
åº”ç”¨ä¿¡æ¯ï¼š
â”œâ”€â”€ åŒ…å: com.mtx.take.code
â”œâ”€â”€ å‚å•†: MTX
â””â”€â”€ ç‰ˆæœ¬: 1.0.0 (1000000)

ç­¾åé…ç½®ï¼š
â”œâ”€â”€ å¯†é’¥æ–‡ä»¶: signature/pickcode.p12
â”œâ”€â”€ è¯ä¹¦æ–‡ä»¶: signature/pickcode.cer
â”œâ”€â”€ Profile: signature/pickcode.p7b
â”œâ”€â”€ å¯†ç : miao1234
â””â”€â”€ åˆ«å: pickcode_key

æ„å»ºé…ç½®ï¼š
â”œâ”€â”€ Debug ç­¾å: default
â”œâ”€â”€ Release ç­¾å: release
â””â”€â”€ ç­¾åç®—æ³•: SHA256withRSA
```

---

**ğŸ‰ ç­¾åé…ç½®å®Œæˆï¼ç°åœ¨å¯ä»¥åœ¨ DevEco Studio ä¸­é‡æ–°æ„å»ºé¡¹ç›®äº†ï¼**

**æ¨èæ“ä½œ**ï¼š
```
1. Build â†’ Clean Project
2. Build â†’ Rebuild Project
3. Run â†’ Run 'entry' (Shift + F10)
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-10-25  
**çŠ¶æ€**: âœ… é…ç½®å®Œæˆ

