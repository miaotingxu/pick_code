# 快速开始指南

本指南将帮助您快速了解和运行快递取件码管理 APP。

## 环境要求

- **操作系统**: Windows / macOS / Linux
- **开发工具**: DevEco Studio 4.0 或更高版本
- **HarmonyOS SDK**: API 9 或更高版本
- **设备**: HarmonyOS 手机/平板 或 模拟器

## 快速开始

### 1. 打开项目

使用 DevEco Studio 打开项目根目录：
```
File -> Open -> 选择项目文件夹
```

### 2. 配置环境

首次打开项目时，DevEco Studio 会自动：
- 下载依赖
- 配置 SDK
- 同步项目

请等待同步完成。

### 3. 运行应用

#### 方式一：使用真机
1. 连接 HarmonyOS 设备到电脑
2. 在设备上开启开发者模式和 USB 调试
3. 点击 DevEco Studio 工具栏的运行按钮 ▶️
4. 选择连接的设备

#### 方式二：使用模拟器
1. 打开 Device Manager
2. 创建或启动 HarmonyOS 模拟器
3. 点击运行按钮 ▶️
4. 选择模拟器

### 4. 首次使用

应用启动后：

1. **查看示例数据**
   - 首次运行会自动加载 4 条测试数据
   - 可以体验所有功能

2. **添加取件码**
   - 点击右上角 `+` 按钮
   - 填写快递信息
   - 点击"保存"

3. **扫描快递单**
   - 点击右上角扫码图标
   - 扫描快递单上的二维码
   - 自动识别并添加

4. **管理取件状态**
   - 点击卡片右侧圆圈图标
   - 切换"待取"/"已取"状态

5. **复制取件码**
   - 长按取件码区域
   - 自动复制到剪贴板

## 功能演示

### 主界面说明

```
┌─────────────────────────────────┐
│  ☰  待取包裹 (4)         +  ⊞  │  ← 顶部导航
├─────────────────────────────────┤
│  [按时间] [免喜] [妈妈] [韵达] ☑│  ← 筛选区
├─────────────────────────────────┤
│  04-28                  4条记录  │  ← 日期分组
│  ┌───────────────────────────┐ │
│  │ [JT] 菜鸟驿站    17:45 ○ │ │  ← 快递卡片
│  │     杭州万泰凤华新建店     │ │
│  │     2-5-2418             │ │  ← 取件码
│  └───────────────────────────┘ │
│  ┌───────────────────────────┐ │
│  │ [ZT] 菜鸟驿站    17:37 ○ │ │
│  │     杭州万泰凤华新建店     │ │
│  │     6-2-2175             │ │
│  └───────────────────────────┘ │
├─────────────────────────────────┤
│      📦        ✓               │  ← 底部导航
│     待取       已取              │
└─────────────────────────────────┘
```

### 快捷操作

| 操作 | 快捷方式 |
|------|---------|
| 添加取件码 | 点击右上角 `+` |
| 扫码添加 | 点击右上角扫码图标 |
| 复制取件码 | 长按取件码 |
| 标记已取 | 点击卡片右侧圆圈 |
| 切换页面 | 点击底部"待取"/"已取" |
| 筛选快递 | 点击顶部筛选标签 |

## 常见问题

### Q1: 如何添加快递公司 Logo？

参见 [ICONS_README.md](ICONS_README.md)

### Q2: 短信权限如何授权？

首次使用自动读取短信功能时，系统会弹出权限请求对话框，点击"允许"即可。

### Q3: 测试数据如何清除？

在"已取"页面：
1. 将所有包裹标记为"已取"
2. 点击右上角删除按钮
3. 选择要删除的记录

### Q4: 支持哪些快递公司？

目前支持 11 家主流快递公司，详见 [README.md](../README.md#支持的快递公司)

### Q5: 数据存储在哪里？

所有数据存储在本地加密数据库中，路径：
```
/data/storage/el2/database/rdb/ParcelDB.db
```

## 项目结构概览

```
entry/src/main/
├── ets/                    # TypeScript 源码
│   ├── common/            # 常量配置
│   │   └── Constants.ets
│   ├── database/          # 数据库
│   │   └── ParcelDatabase.ets
│   ├── model/             # 数据模型
│   │   └── ParcelModel.ets
│   ├── pages/             # 页面
│   │   ├── Index.ets      # 主页面
│   │   └── AddParcel.ets  # 添加页面
│   ├── service/           # 服务
│   │   ├── SmsService.ets # 短信服务
│   │   └── ScanService.ets# 扫码服务
│   └── utils/             # 工具类
│       ├── IconUtils.ets  # 图标工具
│       └── DateUtils.ets  # 日期工具
├── resources/             # 资源文件
│   └── base/
│       ├── element/       # 颜色、字符串
│       ├── media/         # 图片资源
│       └── profile/       # 配置文件
└── module.json5           # 模块配置
```

## 核心文件说明

| 文件 | 说明 |
|------|------|
| `Index.ets` | 主页面，包含列表、筛选、状态切换 |
| `AddParcel.ets` | 添加页面，手动输入取件码 |
| `ParcelDatabase.ets` | 数据库操作封装 |
| `ParcelModel.ets` | 数据模型定义 |
| `SmsService.ets` | 短信读取和解析 |
| `ScanService.ets` | 二维码扫描 |
| `Constants.ets` | 常量配置（快递公司、状态等） |

## 开发调试

### 查看日志

在 DevEco Studio 底部打开 Log 面板，可以看到：
- 数据库操作日志
- 短信解析日志
- 扫码结果日志

### 修改测试数据

编辑 `Index.ets` 的 `loadTestData()` 方法：

```typescript
const testParcels = [
  new ParcelModel('你的取件码', '快递公司', '驿站名称', '地址', '17:45', 0),
  // 添加更多测试数据...
];
```

### 清空数据库

方式一：卸载应用重装

方式二：在代码中添加清空逻辑：
```typescript
await this.database.clearAllData(); // 需要自己实现此方法
```

## 下一步

- 📖 阅读完整文档：[README.md](../README.md)
- 🎨 自定义图标：[ICONS_README.md](ICONS_README.md)
- 📝 查看更新日志：[CHANGELOG.md](CHANGELOG.md)
- 🚀 开始开发：修改代码，实现自己的需求

## 获取帮助

如果遇到问题：

1. 检查 DevEco Studio 的 Log 输出
2. 查看 [README.md](../README.md) 中的"注意事项"
3. 提交 Issue 到项目仓库

---

**祝您使用愉快！** 🎉

