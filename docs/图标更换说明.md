# 应用图标更换说明

> **更新时间**: 2025-10-24  
> **图标**: big_logo.png  
> **提交**: 115dc47

---

## ✅ 已完成的修改

### 1. 图标文件准备

已将 `big_logo.png` 复制到所需的资源目录：

```
✅ AppScope/resources/base/media/big_logo.png        (应用级图标)
✅ entry/src/main/resources/base/media/big_logo.png  (模块级图标)
```

---

### 2. 配置文件修改

#### AppScope/app.json5 (应用级配置)

```json5
{
  "app": {
    "bundleName": "com.example.first",
    "vendor": "example",
    "versionCode": 1000000,
    "versionName": "1.0.0",
    "icon": "$media:big_logo",  // ← 已更改
    "label": "$string:app_name"
  }
}
```

**修改内容**：
- ❌ 原值: `"icon": "$media:layered_image"`
- ✅ 新值: `"icon": "$media:big_logo"`

---

#### entry/src/main/module.json5 (模块级配置)

```json5
{
  "module": {
    "abilities": [
      {
        "name": "EntryAbility",
        "icon": "$media:big_logo",        // ← 已更改
        "startWindowIcon": "$media:big_logo",  // ← 已更改
        // ... 其他配置
      }
    ]
  }
}
```

**修改内容**：
- ❌ 原值: `"icon": "$media:layered_image"`
- ✅ 新值: `"icon": "$media:big_logo"`
- ❌ 原值: `"startWindowIcon": "$media:startIcon"`
- ✅ 新值: `"startWindowIcon": "$media:big_logo"`

---

## 🔍 图标配置说明

### HarmonyOS 应用图标类型

#### 1. 简单图标（Simple Icon）
- 使用单个图片文件
- 格式：PNG
- 推荐尺寸：256x256 px
- **当前使用**: ✅ `big_logo.png`

#### 2. 分层图标（Layered Icon）
- 由前景（foreground）+ 背景（background）组成
- 支持更丰富的视觉效果
- **之前使用**: `layered_image`（已废弃）

---

### 图标资源引用

HarmonyOS 使用 `$media:资源名` 格式引用图标资源：

```
$media:big_logo
    ↓
引用 resources/base/media/big_logo.png
```

**注意**：
- 不需要写文件扩展名 `.png`
- 系统自动查找对应的图片文件
- 支持多种图片格式（PNG、JPG、WEBP）

---

## 📱 图标显示位置

更换后的 `big_logo` 将显示在以下位置：

### 1. 桌面图标
- ✅ HarmonyOS 手机桌面
- ✅ 平板桌面
- ✅ 应用抽屉

### 2. 应用启动页
- ✅ 启动画面（Splash Screen）
- `startWindowIcon` 配置控制

### 3. 系统设置
- ✅ 设置 → 应用管理
- ✅ 权限管理列表
- ✅ 通知中心

### 4. 任务管理器
- ✅ 最近任务列表
- ✅ 多任务切换界面

---

## 🎨 图标设计建议

### 当前图标：big_logo.png

如需优化图标，请参考以下建议：

#### 尺寸规范
```
推荐尺寸：
  - 512 x 512 px（最佳）
  - 256 x 256 px（最小）
  - 1024 x 1024 px（超清）

格式要求：
  - PNG 格式（支持透明背景）
  - 24位或32位色深
  - 文件大小：< 100 KB
```

#### 设计原则
- ✅ 简洁明了，易于识别
- ✅ 高对比度，清晰可见
- ✅ 圆角设计，符合 HarmonyOS 风格
- ✅ 避免过多细节，保持可读性
- ❌ 不要使用纯白色或纯黑色背景

#### 背景建议
- 使用透明背景（PNG Alpha通道）
- 或使用品牌色作为背景
- 确保图标在深色和浅色主题下都清晰可见

---

## 🛠️ 如何更换其他图标

如需再次更换图标，按以下步骤操作：

### 步骤 1: 准备图标文件

将新图标（如 `new_icon.png`）放到资源目录：

```powershell
# 复制到应用级资源目录
Copy-Item "新图标路径\new_icon.png" -Destination "AppScope\resources\base\media\new_icon.png"

# 复制到模块级资源目录
Copy-Item "AppScope\resources\base\media\new_icon.png" -Destination "entry\src\main\resources\base\media\new_icon.png"
```

---

### 步骤 2: 修改配置文件

#### 修改 AppScope/app.json5

```json5
{
  "app": {
    "icon": "$media:new_icon",  // ← 改为新图标名称
    // ... 其他配置保持不变
  }
}
```

#### 修改 entry/src/main/module.json5

```json5
{
  "module": {
    "abilities": [
      {
        "icon": "$media:new_icon",
        "startWindowIcon": "$media:new_icon",
        // ... 其他配置
      }
    ]
  }
}
```

---

### 步骤 3: 重新编译

```powershell
# 方式 1: DevEco Studio
Build → Clean Project
Build → Rebuild Project

# 方式 2: 命令行
hvigorw clean
hvigorw assembleHap
```

---

### 步骤 4: 测试验证

1. 卸载旧版应用（如果已安装）
```powershell
hdc uninstall com.example.first
```

2. 安装新版本
```powershell
hdc install entry-default-unsigned.hap
```

3. 检查桌面图标是否更新

---

## 📝 Git 提交记录

```bash
commit 115dc47
style: replace app icon with big_logo

Changes:
  - AppScope/app.json5: icon 改为 $media:big_logo
  - entry/src/main/module.json5: icon 和 startWindowIcon 改为 big_logo
  - 新增: AppScope/resources/base/media/big_logo.png
  - 新增: entry/src/main/resources/base/media/big_logo.png
```

---

## ⚠️ 注意事项

### 1. 图标缓存问题

**问题**：安装新版本后，桌面图标没有更新

**解决方案**：
```powershell
# 1. 完全卸载应用
hdc uninstall com.example.first

# 2. 重启设备（如果需要）
hdc shell reboot

# 3. 重新安装
hdc install 新的hap包
```

---

### 2. 图标显示异常

**可能原因**：
- ❌ 图标文件损坏
- ❌ 图标尺寸过大或过小
- ❌ 配置文件引用错误
- ❌ 资源文件未正确打包

**排查方法**：
```powershell
# 查看打包后的资源
unzip -l entry-default-unsigned.hap | findstr big_logo

# 检查图标文件信息
Get-ChildItem AppScope\resources\base\media\big_logo.png | Format-List
```

---

### 3. 分层图标兼容性

虽然我们已切换到简单图标（big_logo），但保留了原有的分层图标文件：

```
AppScope/resources/base/media/
  ├── big_logo.png          ← 当前使用
  ├── layered_image.json    ← 保留（未使用）
  ├── foreground.png        ← 保留（未使用）
  └── background.png        ← 保留（未使用）
```

**原因**：
- 避免编译错误
- 方便后续切换回分层图标
- 保持资源完整性

---

## 🔄 回滚到旧图标

如需恢复到之前的分层图标：

```json5
// AppScope/app.json5
{
  "app": {
    "icon": "$media:layered_image"  // ← 改回分层图标
  }
}

// entry/src/main/module.json5
{
  "abilities": [{
    "icon": "$media:layered_image",
    "startWindowIcon": "$media:startIcon"
  }]
}
```

---

## 📊 图标更换对比

| 项目 | 旧图标 (layered_image) | 新图标 (big_logo) |
|------|----------------------|------------------|
| **类型** | 分层图标 | 简单图标 |
| **文件数量** | 2个（foreground + background） | 1个 |
| **视觉效果** | 可自定义前景和背景 | 固定图片 |
| **文件大小** | ~20 KB | ~XX KB |
| **配置复杂度** | 较高 | 简单 |
| **适配场景** | 需要动态效果 | 通用场景 ✅ |

---

## 📞 相关文档

- 📄 `README.md` - 项目说明
- 📄 `打包安装说明.md` - 应用打包指南
- 📄 官方文档: [HarmonyOS 应用图标设计规范](https://developer.harmonyos.com/cn/docs/design/des-guides/app-icon-0000001428062044)

---

**更换完成！** 🎉

重新编译并运行项目，即可看到新的应用图标 `big_logo`。

---

**文档版本**: v1.0  
**最后更新**: 2025-10-24  
**状态**: ✅ 已完成

