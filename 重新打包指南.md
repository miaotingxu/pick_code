# å¿«é€’å–ä»¶ç ç®¡ç† APP - é‡æ–°æ‰“åŒ…æŒ‡å—

> **æ›´æ–°æ—¶é—´**: 2025-10-24  
> **åŸå› **: æ›´æ¢åº”ç”¨å›¾æ ‡ä¸º big_logo  
> **çŠ¶æ€**: éœ€è¦é‡æ–°æ„å»º

---

## âš ï¸ é‡è¦æç¤º

ç”±äºæˆ‘ä»¬åˆšåˆšæ›´æ¢äº†åº”ç”¨å›¾æ ‡ï¼ˆä» `layered_image` æ”¹ä¸º `big_logo`ï¼‰ï¼Œéœ€è¦é‡æ–°æ‰“åŒ…ç”Ÿæˆæ–°çš„å®‰è£…åŒ…ï¼Œä»¥ç¡®ä¿æ–°å›¾æ ‡ç”Ÿæ•ˆã€‚

---

## ğŸš€ ä½¿ç”¨ DevEco Studio æ‰“åŒ…ï¼ˆæ¨èï¼‰

### æ–¹å¼ä¸€ï¼šå¿«é€Ÿæ„å»ºï¼ˆDebugç‰ˆæœ¬ï¼‰

#### æ­¥éª¤ï¼š

1. **æ‰“å¼€ DevEco Studio**
   - ç¡®ä¿é¡¹ç›®å·²ç»æ‰“å¼€

2. **æ¸…ç†æ—§æ„å»º**
   ```
   èœå•æ  â†’ Build â†’ Clean Project
   ```
   ç­‰å¾…æ¸…ç†å®Œæˆï¼ˆçº¦5-10ç§’ï¼‰

3. **é‡æ–°æ„å»ºé¡¹ç›®**
   ```
   èœå•æ  â†’ Build â†’ Rebuild Project
   ```
   ç­‰å¾…ç¼–è¯‘å®Œæˆï¼ˆé¦–æ¬¡çº¦1-3åˆ†é’Ÿï¼‰

4. **ç”Ÿæˆ HAP åŒ…**
   ```
   èœå•æ  â†’ Build â†’ Build Hap(s)/App(s) â†’ Build Hap(s)
   ```
   æˆ–è€…ç›´æ¥æŒ‰å¿«æ·é”®ï¼š`Ctrl + F9`

5. **æŸ¥çœ‹è¾“å‡ºæ–‡ä»¶**
   ```
   è¾“å‡ºä½ç½®ï¼šentry/build/default/outputs/default/entry-default-unsigned.hap
   ```

6. **å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•**ï¼ˆå¯é€‰ï¼‰
   ```powershell
   Copy-Item "entry\build\default\outputs\default\entry-default-unsigned.hap" -Destination "PickCode-unsigned.hap"
   ```

---

### æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œï¼ˆæœ€å¿«ï¼‰

å¦‚æœåªæ˜¯æƒ³æµ‹è¯•æ–°å›¾æ ‡ï¼Œæœ€ç®€å•çš„æ–¹å¼ï¼š

1. **è¿æ¥è®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨**

2. **ç‚¹å‡»è¿è¡ŒæŒ‰é’®**
   ```
   å·¥å…·æ  â†’ Run æŒ‰é’®ï¼ˆç»¿è‰²ä¸‰è§’å½¢ï¼‰
   æˆ–æŒ‰å¿«æ·é”®ï¼šShift + F10
   ```

3. **ç­‰å¾…è‡ªåŠ¨å®‰è£…**
   - DevEco Studio ä¼šè‡ªåŠ¨ç¼–è¯‘
   - è‡ªåŠ¨ç­¾å
   - è‡ªåŠ¨å®‰è£…åˆ°è®¾å¤‡
   - è‡ªåŠ¨å¯åŠ¨åº”ç”¨

4. **æŸ¥çœ‹æ–°å›¾æ ‡**
   - åœ¨è®¾å¤‡æ¡Œé¢æŸ¥çœ‹åº”ç”¨å›¾æ ‡
   - åº”è¯¥æ˜¾ç¤ºä¸º `big_logo`

---

## ğŸ“¦ ä½¿ç”¨å‘½ä»¤è¡Œæ‰“åŒ…ï¼ˆé«˜çº§ï¼‰

### å‰ææ¡ä»¶

éœ€è¦å…ˆé…ç½® HarmonyOS å‘½ä»¤è¡Œå·¥å…·ï¼š

```powershell
# 1. ç¡®ä¿ Node.js å·²å®‰è£…
node --version

# 2. å…¨å±€å®‰è£… ohpmï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
npm install -g @ohos/ohpm

# 3. å®‰è£…é¡¹ç›®ä¾èµ–
ohpm install
```

### æ„å»ºå‘½ä»¤

```powershell
# æ–¹å¼ 1: ä½¿ç”¨ hvigorï¼ˆå¦‚æœé¡¹ç›®é…ç½®äº†ï¼‰
npx hvigor assembleHap --mode module -p module=entry -p product=default

# æ–¹å¼ 2: ä½¿ç”¨ DevEco Studio CLIï¼ˆéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼‰
deveco build --project . --module entry
```

### è¾“å‡ºä½ç½®

```
entry/build/default/outputs/default/entry-default-unsigned.hap
```

---

## ğŸ” éªŒè¯æ–°å›¾æ ‡

### 1. æ£€æŸ¥ HAP åŒ…å†…å®¹

```powershell
# æŸ¥çœ‹ HAP åŒ…å¤§å°å’Œæ—¶é—´æˆ³
Get-Item entry\build\default\outputs\default\entry-default-unsigned.hap | Format-List

# è§£å‹æŸ¥çœ‹èµ„æºï¼ˆå¯é€‰ï¼‰
Expand-Archive -Path "entry\build\default\outputs\default\entry-default-unsigned.hap" -DestinationPath "temp_hap" -Force

# æ£€æŸ¥æ˜¯å¦åŒ…å« big_logo.png
Get-ChildItem temp_hap -Recurse -Filter "big_logo.png"

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
Remove-Item temp_hap -Recurse -Force
```

---

### 2. å®‰è£…åˆ°è®¾å¤‡æµ‹è¯•

```powershell
# 1. æ£€æŸ¥è®¾å¤‡è¿æ¥
hdc list targets

# 2. å¸è½½æ—§ç‰ˆæœ¬
hdc uninstall com.example.first

# 3. å®‰è£…æ–°ç‰ˆæœ¬
hdc install entry\build\default\outputs\default\entry-default-unsigned.hap

# 4. å¯åŠ¨åº”ç”¨
hdc shell aa start -a EntryAbility -b com.example.first
```

---

### 3. å›¾æ ‡éªŒè¯ç‚¹

æ–°å®‰è£…åæ£€æŸ¥ä»¥ä¸‹ä½ç½®çš„å›¾æ ‡ï¼š

- âœ… **æ¡Œé¢å›¾æ ‡** - ä¸»å±å¹•çš„åº”ç”¨å›¾æ ‡
- âœ… **åº”ç”¨æŠ½å±‰** - æ‰€æœ‰åº”ç”¨åˆ—è¡¨
- âœ… **å¯åŠ¨ç”»é¢** - åº”ç”¨å¯åŠ¨æ—¶çš„ Splash Screen
- âœ… **è®¾ç½®é¡µé¢** - è®¾ç½® â†’ åº”ç”¨ç®¡ç†
- âœ… **ä»»åŠ¡ç®¡ç†å™¨** - æœ€è¿‘ä»»åŠ¡åˆ—è¡¨

**é¢„æœŸæ•ˆæœ**ï¼šæ‰€æœ‰ä½ç½®éƒ½åº”æ˜¾ç¤º `big_logo` å›¾æ ‡

---

## ğŸ“ PowerShell ä¸€é”®æ‰“åŒ…è„šæœ¬

åˆ›å»ºä¸€ä¸ª PowerShell è„šæœ¬å¿«é€Ÿæ‰“åŒ…ï¼š

### rebuild.ps1

```powershell
# rebuild.ps1 - å¿«é€Ÿé‡æ–°æ‰“åŒ…è„šæœ¬

Write-Host "=====================================" -ForegroundColor Cyan
Write-Host "  å¿«é€’å–ä»¶ç ç®¡ç† - é‡æ–°æ‰“åŒ…å·¥å…·" -ForegroundColor Cyan
Write-Host "=====================================" -ForegroundColor Cyan
Write-Host ""

# 1. æ¸…ç†æ—§æ„å»º
Write-Host "[1/5] æ¸…ç†æ—§æ„å»º..." -ForegroundColor Yellow
Remove-Item "entry\build" -Recurse -Force -ErrorAction SilentlyContinue
Remove-Item "PickCode-unsigned.hap" -ErrorAction SilentlyContinue
Write-Host "âœ“ æ¸…ç†å®Œæˆ" -ForegroundColor Green
Write-Host ""

# 2. æ£€æŸ¥ Node.js
Write-Host "[2/5] æ£€æŸ¥ç¯å¢ƒ..." -ForegroundColor Yellow
$nodeVersion = node --version 2>&1
if ($LASTEXITCODE -eq 0) {
    Write-Host "âœ“ Node.js: $nodeVersion" -ForegroundColor Green
} else {
    Write-Host "âœ— Node.js æœªå®‰è£…" -ForegroundColor Red
    exit 1
}
Write-Host ""

# 3. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
Write-Host "[3/5] æ£€æŸ¥ä¾èµ–..." -ForegroundColor Yellow
if (-not (Test-Path "oh_modules")) {
    Write-Host "å®‰è£…ä¾èµ–ä¸­..." -ForegroundColor Yellow
    ohpm install
    if ($LASTEXITCODE -ne 0) {
        Write-Host "âœ— ä¾èµ–å®‰è£…å¤±è´¥" -ForegroundColor Red
        Write-Host "  è¯·æ‰‹åŠ¨åœ¨ DevEco Studio ä¸­æ„å»º" -ForegroundColor Yellow
        exit 1
    }
}
Write-Host "âœ“ ä¾èµ–æ£€æŸ¥å®Œæˆ" -ForegroundColor Green
Write-Host ""

# 4. æ„å»ºé¡¹ç›®
Write-Host "[4/5] æ„å»ºé¡¹ç›®ï¼ˆè¿™å¯èƒ½éœ€è¦1-3åˆ†é’Ÿï¼‰..." -ForegroundColor Yellow
Write-Host "  å¦‚æœæ­¤æ­¥éª¤å¤±è´¥ï¼Œè¯·ä½¿ç”¨ DevEco Studio æ„å»º" -ForegroundColor Gray
Write-Host ""

# å°è¯•ä½¿ç”¨ hvigor æ„å»º
npx hvigor assembleHap --mode module -p module=entry -p product=default 2>&1 | Out-Null

if ($LASTEXITCODE -eq 0 -and (Test-Path "entry\build\default\outputs\default\entry-default-unsigned.hap")) {
    Write-Host "âœ“ æ„å»ºæˆåŠŸ" -ForegroundColor Green
    
    # 5. å¤åˆ¶åˆ°æ ¹ç›®å½•
    Write-Host ""
    Write-Host "[5/5] å¤åˆ¶å®‰è£…åŒ…..." -ForegroundColor Yellow
    Copy-Item "entry\build\default\outputs\default\entry-default-unsigned.hap" -Destination "PickCode-unsigned.hap"
    
    $fileInfo = Get-Item "PickCode-unsigned.hap"
    $sizeKB = [math]::Round($fileInfo.Length / 1KB, 2)
    
    Write-Host "âœ“ æ‰“åŒ…å®Œæˆï¼" -ForegroundColor Green
    Write-Host ""
    Write-Host "=====================================" -ForegroundColor Cyan
    Write-Host "ğŸ“¦ å®‰è£…åŒ…ä¿¡æ¯" -ForegroundColor Cyan
    Write-Host "=====================================" -ForegroundColor Cyan
    Write-Host "æ–‡ä»¶å: PickCode-unsigned.hap"
    Write-Host "å¤§å°: $sizeKB KB"
    Write-Host "ä½ç½®: $($fileInfo.FullName)"
    Write-Host "æ—¶é—´: $($fileInfo.LastWriteTime)"
    Write-Host ""
    Write-Host "ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š" -ForegroundColor Yellow
    Write-Host "  hdc install PickCode-unsigned.hap" -ForegroundColor White
    Write-Host ""
    
} else {
    Write-Host "âœ— å‘½ä»¤è¡Œæ„å»ºå¤±è´¥" -ForegroundColor Red
    Write-Host ""
    Write-Host "=====================================" -ForegroundColor Yellow
    Write-Host "  è¯·ä½¿ç”¨ DevEco Studio æ„å»º" -ForegroundColor Yellow
    Write-Host "=====================================" -ForegroundColor Yellow
    Write-Host ""
    Write-Host "æ­¥éª¤ï¼š" -ForegroundColor White
    Write-Host "1. æ‰“å¼€ DevEco Studio"
    Write-Host "2. Build â†’ Clean Project"
    Write-Host "3. Build â†’ Rebuild Project"
    Write-Host "4. Build â†’ Build Hap(s)"
    Write-Host ""
    Write-Host "æˆ–è€…ç›´æ¥ç‚¹å‡» Run æŒ‰é’®ï¼ˆShift + F10ï¼‰" -ForegroundColor Green
    Write-Host ""
}
```

### ä½¿ç”¨è„šæœ¬

```powershell
# 1. ä¿å­˜è„šæœ¬ä¸º rebuild.ps1

# 2. åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
.\rebuild.ps1

# 3. å¦‚æœæç¤ºæ‰§è¡Œç­–ç•¥é”™è¯¯ï¼Œè¿è¡Œï¼š
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass
.\rebuild.ps1
```

---

## ğŸ¯ æ¨èæµç¨‹

### å¯¹äºæ—¥å¸¸å¼€å‘ï¼ˆæœ€ç®€å•ï¼‰

```
1. ä¿®æ”¹ä»£ç /èµ„æº
2. åœ¨ DevEco Studio ç‚¹å‡» Runï¼ˆShift + F10ï¼‰
3. åº”ç”¨è‡ªåŠ¨å®‰è£…åˆ°è®¾å¤‡
4. å®Œæˆï¼
```

**ä¼˜ç‚¹**ï¼š
- âœ… å…¨è‡ªåŠ¨ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
- âœ… å®æ—¶çœ‹åˆ°æ•ˆæœ
- âœ… è°ƒè¯•æ–¹ä¾¿

---

### å¯¹äºç”Ÿæˆç‹¬ç«‹å®‰è£…åŒ…

```
1. Build â†’ Clean Project
2. Build â†’ Rebuild Project  
3. Build â†’ Build Hap(s)
4. åœ¨ entry/build/default/outputs/default/ æ‰¾åˆ° HAP æ–‡ä»¶
5. å¤åˆ¶åˆ°éœ€è¦çš„ä½ç½®
```

**ä¼˜ç‚¹**ï¼š
- âœ… ç”Ÿæˆç‹¬ç«‹å®‰è£…åŒ…
- âœ… å¯ä»¥åˆ†äº«ç»™å…¶ä»–äºº
- âœ… å¯ä»¥ç¦»çº¿å®‰è£…

---

## â“ å¸¸è§é—®é¢˜

### Q1: DevEco Studio æ„å»ºå¤±è´¥ï¼Ÿ

**å¯èƒ½åŸå› ï¼š**
- SDK æœªå®Œæ•´ä¸‹è½½
- ç­¾åé…ç½®é”™è¯¯
- ä¾èµ–æœªå®‰è£…

**è§£å†³æ–¹æ¡ˆï¼š**
```
1. File â†’ Invalidate Caches / Restart
2. åˆ é™¤ oh_modules å’Œ build ç›®å½•
3. Build â†’ Clean Project
4. Build â†’ Rebuild Project
```

---

### Q2: å›¾æ ‡æ²¡æœ‰æ›´æ–°ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
```powershell
# 1. å®Œå…¨å¸è½½æ—§ç‰ˆæœ¬
hdc uninstall com.example.first

# 2. æ¸…ç†ç¼“å­˜ï¼ˆå¯é€‰ï¼‰
hdc shell rm -rf /data/app/el1/bundle/public/com.example.first

# 3. é‡æ–°å®‰è£…
hdc install PickCode-unsigned.hap

# 4. é‡å¯è®¾å¤‡ï¼ˆå¦‚æœè¿˜ä¸è¡Œï¼‰
hdc shell reboot
```

---

### Q3: å‘½ä»¤è¡Œæ‰“åŒ…æç¤ºæƒé™é”™è¯¯ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
Start-Process powershell -Verb runAs

# ç„¶åæ‰§è¡Œæ‰“åŒ…å‘½ä»¤
```

---

## ğŸ“Š æ‰“åŒ…åçš„æ–‡ä»¶å¯¹æ¯”

| é¡¹ç›® | æ—§ç‰ˆæœ¬ | æ–°ç‰ˆæœ¬ï¼ˆbig_logoï¼‰ |
|------|--------|-------------------|
| æ–‡ä»¶å | entry-default-unsigned.hap | entry-default-unsigned.hap |
| åº”ç”¨å›¾æ ‡ | layered_imageï¼ˆåˆ†å±‚ï¼‰ | big_logoï¼ˆå•ä¸€å›¾æ ‡ï¼‰ |
| å¯åŠ¨å›¾æ ‡ | startIcon | big_logo |
| å¤§å° | ~525 KB | ~525 KBï¼ˆç›¸è¿‘ï¼‰ |
| å›¾æ ‡é…ç½® | AppScope/app.json5 | âœ… å·²æ›´æ–° |
| æ¨¡å—é…ç½® | entry/module.json5 | âœ… å·²æ›´æ–° |

---

## âœ… æ‰“åŒ…å®Œæˆæ£€æŸ¥æ¸…å•

æ‰“åŒ…å®Œæˆåï¼Œè¯·æ£€æŸ¥ï¼š

- [ ] HAP æ–‡ä»¶å·²ç”Ÿæˆï¼ˆentry/build/default/outputs/default/ï¼‰
- [ ] æ–‡ä»¶å¤§å°åˆç†ï¼ˆçº¦ 500-600 KBï¼‰
- [ ] æ—¶é—´æˆ³æ˜¯æœ€æ–°çš„ï¼ˆåˆšåˆšç”Ÿæˆï¼‰
- [ ] å®‰è£…åˆ°è®¾å¤‡æˆåŠŸ
- [ ] æ¡Œé¢å›¾æ ‡æ˜¾ç¤ºä¸º big_logo
- [ ] å¯åŠ¨ç”»é¢æ˜¾ç¤º big_logo
- [ ] åº”ç”¨åŠŸèƒ½æ­£å¸¸
- [ ] æ‰€æœ‰æƒé™æˆæƒæ­£å¸¸ï¼ˆç›¸æœºã€çŸ­ä¿¡ï¼‰

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**
   ```
   DevEco Studio â†’ Terminal â†’ æŸ¥çœ‹æ„å»ºè¾“å‡º
   ```

2. **æ£€æŸ¥é…ç½®**
   - `AppScope/app.json5` - åº”ç”¨çº§é…ç½®
   - `entry/src/main/module.json5` - æ¨¡å—é…ç½®
   - `build-profile.json5` - æ„å»ºé…ç½®

3. **ç›¸å…³æ–‡æ¡£**
   - `æ‰“åŒ…å®‰è£…è¯´æ˜.md` - è¯¦ç»†å®‰è£…æŒ‡å—
   - `docs/ç­¾åé…ç½®æŒ‡å—.md` - ç­¾åé…ç½®
   - `docs/å›¾æ ‡æ›´æ¢è¯´æ˜.md` - å›¾æ ‡æ›´æ¢è¯´æ˜

---

**å»ºè®®æ“ä½œ**ï¼šä½¿ç”¨ DevEco Studio çš„ **Run æŒ‰é’®ï¼ˆShift + F10ï¼‰** æœ€ç®€å•å¿«æ·ï¼

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-10-24  
**çŠ¶æ€**: âœ… å¾…æ‰§è¡Œ

